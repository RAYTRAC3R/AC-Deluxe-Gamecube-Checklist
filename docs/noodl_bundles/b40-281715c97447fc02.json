[{"name":"/Collection Pages/Passport/Passport","nodes":[{"id":"be5c2e79-982e-a88d-123f-8a134d10bda1","type":"Page","parameters":{},"ports":[],"children":[{"id":"74150ab2-6477-c442-873c-d6a443b8bac1","type":"/Collection Pages/Paintings/paintings-splash","parameters":{},"ports":[],"children":[]},{"id":"cecbb818-a883-408e-1b52-55cf100bf994","type":"module.inlineHtml","parameters":{"html":"<style>\r\nbody {\r\n  margin: 0;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n  background: #ffacbe; /* Set background color */\r\n  will-change: background-position; /* Hint to optimize rendering */\r\n  position: relative; /* Ensure pseudo-element is positioned correctly */\r\n}\r\n\r\nbody::before {\r\n  content: \"\";\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-image: \r\n    url('/images/background/art.png'),\r\n    url('/images/background/art.png');\r\n  background-size: 96px 96px; /* Size of the image */\r\n  background-repeat: repeat; /* Repeat the image */\r\n  background-position: 0 0, 96px 96px; /* Offset second layer by 50% */\r\n  animation: move-images 30s linear infinite; /* Infinite animation */\r\n  z-index: -1; /* Place behind other content */\r\n}\r\n\r\n@keyframes move-images {\r\n  0% {\r\n    background-position: 0 0, 96px 96px;\r\n  }\r\n  100% {\r\n    background-position: 96px 96px, 288px 288px; /* Move background to create seamless loop */\r\n  }\r\n}\r\n</style>\r\n","runJs":true},"ports":[],"children":[]},{"id":"bf5a0058-787c-c0fc-6984-75e1b552d5d0","type":"Group","parameters":{"sizeMode":"contentHeight","borderRadius":{"value":12,"unit":"px"},"cssClassName":"slideup","marginLeft":{"value":5,"unit":"px"},"marginRight":{"value":5,"unit":"px"},"backgroundColor":"#FFE0E8","marginTop":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"72c89213-2e2f-2640-a5c8-f759770bf259","type":"Group","parameters":{"marginBottom":{"value":5,"unit":"px"},"borderBottomStyle":"solid","backgroundColor":"#F3FFF1","borderTopLeftRadius":{"value":12,"unit":"px"},"borderTopRightRadius":{"value":12,"unit":"px"}},"ports":[],"children":[{"id":"49f3ab29-7169-c8ed-31d6-c411f24e755a","type":"Text","parameters":{"textAlignX":"center","text":"PASSPORT","textStyle":"Title Large","color":"#000000"},"ports":[],"children":[]}]},{"id":"22fe6105-ffe2-e0a5-2a21-31d27ab3d4cb","type":"Group","parameters":{"flexDirection":"row"},"ports":[],"children":[{"id":"e8b0f0f6-826d-d890-7a9e-f27ee8c20d20","type":"Group","parameters":{"minWidth":{"value":30,"unit":"%"},"maxWidth":{"value":30,"unit":"%"},"alignX":"center"},"ports":[],"children":[{"id":"6a34997c-12c3-9c74-f205-56a5e54b564c","type":"Image","parameters":{"marginLeft":{"value":10,"unit":"px"},"marginRight":{"value":10,"unit":"px"},"marginBottom":{"value":10,"unit":"px"},"borderRadius":{"value":15,"unit":"px"},"sizeMode":"explicit"},"ports":[],"children":[]}]},{"id":"6b918345-20e6-fca6-7890-35df12173b39","type":"Group","parameters":{"minWidth":{"value":70,"unit":"%"},"maxWidth":{"value":70,"unit":"%"}},"ports":[],"children":[{"id":"d02f922f-b36f-c27a-46d2-eab65345de51","type":"Group","parameters":{},"ports":[],"children":[{"id":"cc20380c-2cff-a667-1436-5d0bd8153369","type":"net.noodl.controls.textinput","parameters":{"label":"Town name","marginBottom":{"value":5,"unit":"px"},"marginRight":{"value":5,"unit":"px"}},"ports":[],"children":[]}]},{"id":"fab9bbef-716d-78ea-968b-5dc0b05f9245","type":"Group","parameters":{},"ports":[],"children":[{"id":"09481d46-a288-514a-e91d-7ee562be5a9e","type":"net.noodl.controls.textinput","parameters":{"label":"Player Name","marginBottom":{"value":5,"unit":"px"},"marginRight":{"value":5,"unit":"px"}},"ports":[],"children":[]}]},{"id":"4c4a7393-313c-44db-7299-90665ecda6bd","type":"Group","parameters":{},"ports":[],"children":[{"id":"8d1b907e-4961-e311-1013-0c0517d12175","type":"/Collection Pages/Passport/Date Picker","parameters":{},"ports":[],"children":[]}]}]}]}]}]},{"id":"fca06123-de92-e5a8-977b-a4e710c04b00","type":"PageInputs","parameters":{},"ports":[],"children":[]},{"id":"467d6109-59e0-070d-90d6-3f844c7b9966","type":"JavaScriptFunction","parameters":{"functionScript":"// Load the audio file\nconst audioFile = Inputs.AudioFile || '/audio/loading.mp3';\n\n// Create a new Audio object\nconst audio = new Audio(audioFile);\n\n// Delay the audio playback by 5000ms (5 seconds)\nsetTimeout(() => {\n    // Play the audio file\n    audio.play().then(() => {\n      // If the audio file is successfully played, send the Success signal\n      Outputs.Success();\n    }).catch((error) => {\n      // If there is an error, send the error to the Error output and send the Failure signal\n      Outputs.Error = error;\n      Outputs.Failure();\n    });\n}, 2000);\n"},"ports":[{"name":"in-AudioFile","displayName":"AudioFile","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Error","displayName":"Error","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"f902c1ac-283d-15ef-2548-551616e13c22","type":"net.noodl.controls.textinput","parameters":{"label":"Birthday","marginBottom":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"343d2568-94bf-d11a-86dd-b509f67796b5","type":"/Collection Pages/Passport/Avatar","parameters":{"Title":"Select your avatar"},"ports":[],"children":[]},{"id":"c4ba86ac-43fe-ddce-2ed6-4cb81bbe6404","type":"JavaScriptFunction","parameters":{"functionScript":"function loadAvatarPassport() {\r\n    try {\r\n        // Attempt to retrieve the avatar-passport from local storage\r\n        const avatarPassport = localStorage.getItem('avatar-passport');\r\n        \r\n        // Check if the key exists and is not null or empty\r\n        if (avatarPassport) {\r\n            Outputs.Image = avatarPassport;\r\n        } else {\r\n            // Output default image if no key exists\r\n            Outputs.Image = \"https://acgc.sterner.digital/images/player/unknown.png\";\r\n        }\r\n        \r\n        Outputs.Success();\r\n    } catch (error) {\r\n        Outputs.error = error;\r\n        Outputs.Failure();\r\n    }\r\n}\r\n\r\n// Call the function to load and output the avatar-passport\r\nloadAvatarPassport();\r\n"},"ports":[{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Image","displayName":"Image","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]}],"connections":[{"sourceId":"6a34997c-12c3-9c74-f205-56a5e54b564c","sourcePort":"onClick","targetId":"343d2568-94bf-d11a-86dd-b509f67796b5","targetPort":"Show popup"},{"sourceId":"c4ba86ac-43fe-ddce-2ed6-4cb81bbe6404","sourcePort":"out-Image","targetId":"6a34997c-12c3-9c74-f205-56a5e54b564c","targetPort":"src"}],"ports":[],"roots":["be5c2e79-982e-a88d-123f-8a134d10bda1","f902c1ac-283d-15ef-2548-551616e13c22"]},{"name":"/Collection Pages/Passport/Date Picker","nodes":[{"id":"27ae82cb-650e-4ada-8761-bb2fc855023b","type":"Group","parameters":{"height":{"value":40,"unit":"px"},"borderColor":"#999","flexDirection":"column","sizeMode":"contentHeight","borderWidth":{"value":2,"unit":"px"},"styleCss":"cursor:pointer;","marginBottom":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"e685b776-a21e-67cb-766b-c740b86e7cb7","type":"Text","parameters":{"textStyle":"Label Small","marginBottom":{"value":4,"unit":"px"},"text":"Birthday","color":"Grey - 700","sizeMode":"contentSize"},"ports":[],"children":[]},{"id":"43664b97-6fef-4dbe-b0f4-c884e212680c","type":"Group","parameters":{"height":{"value":40,"unit":"px"}},"ports":[],"children":[{"id":"842637b8-78b6-1725-8089-5bc05ddcdf01","type":"Group","parameters":{"position":"absolute","sizeMode":"contentSize","alignY":"center","styleCss":"cursor:pointer;"},"ports":[],"children":[{"id":"43b46bb5-2eb4-4ac2-1357-aa65f3c71c3c","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"calendar_today"},"iconSize":{"value":20,"unit":"px"},"iconColor":"Grey - 700","marginLeft":{"value":12,"unit":"px"}},"ports":[],"children":[]}]},{"id":"01299228-f6ae-1f0a-0d84-cc1ae0131d5d","type":"net.noodl.controls.textinput","parameters":{"useLabel":false,"placeholder":"MMM DD, YYYY","alignY":"center","paddingLeft":{"value":40,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"height":{"value":100,"unit":"%"},"useIcon":false,"iconIconSource":{"class":"material-icons","code":"calendar_today"},"iconSpacing":{"value":8,"unit":"px"},"marginRight":{"value":5,"unit":"px"}},"stateParameters":{"focused":{"iconColor":"Primary"}},"ports":[],"children":[]}]}]},{"id":"99ff0486-6717-b204-e41e-087fd2a8f246","type":"Javascript2","parameters":{"code":"function mobileAndTabletCheck() {\n  let check = false;\n  (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);\n  return check;\n}\n\nfunction isMobile() {\n    return mobileAndTabletCheck()\n}\n\nconst scriptUrl = \"https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.2.0/dist/js/datepicker-full.min.js\"\nconst cssUrl =  \"https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.2.0/dist/css/datepicker.min.css\"\n\nfunction injectDatePicker(onload) {\n    if (document.querySelectorAll('#--ndl-datepicker-datepicker-js--').length === 0) {\n        window.__ndl_datepicker_onload = [onload]\n\n        var script = document.createElement('script');\n        script.id = \"--ndl-datepicker-datepicker-js--\"\n        script.setAttribute('src', scriptUrl);\n        script.onload = () => {\n            window.__ndl_datepicker_onload.forEach(cb => cb())\n            window.__ndl_datepicker_onload = []\n        }\n        document.head.appendChild(script)\n    }\n    else {\n        if (window.__ndl_datepicker_onload.length > 0) window.__ndl_datepicker_onload.push(onload)\n        else onload()\n    }\n}\n\nfunction injectDatePickerStyles() {\n    const datePickerStyles = `\n        .ndl-datepicker-native-input {\n            display: block;\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            opacity: 0;\n            cursor: pointer;\n            min-width: 100%;\n            margin: 0;\n            padding: 0;\n            border: 0;\n            border-radius: 0;\n        }\n        .ndl-datepicker-native-input::-webkit-calendar-picker-indicator {\n            position: absolute;\n            left: 0;\n            top: 0;\n            width: 100%;\n            height: 100%;\n            margin: 0;\n            padding: 0;\n            cursor: pointer;\n        }\n\n        .datepicker {\n            display:none;\n            font-family: Roboto, sans-serif;\n            border: 1px solid ${Script.Inputs.Accent};\n            border-radius: 4px;\n        }\n\n        .datepicker-picker {\n            background-color: ${Script.Inputs.Background};\n            padding: 24px;\n        }\n\n        .datepicker-header {\n            padding-bottom: 14px;\n        }\n\n        .datepicker-header .datepicker-controls {\n            display: flex;\n            justify-content: space-between;\n        }\n\n        .datepicker-header .datepicker-controls .button {\n            background-color: transparent;\n            color: ${Script.Inputs.Text};\n        }\n\n        .datepicker-header .datepicker-controls button.button:focus,\n        .datepicker-header .datepicker-controls button.button:hover {\n            background-color: ${Script.Inputs.HoverDateBackground};\n            color: ${Script.Inputs.HoverDateText};\n        }\n\n        .datepicker-controls .button.view-switch {\n            border: 1px solid ${Script.Inputs.Text};\n            flex: 0 0 180px;\n        }\n\n        .days-of-week .dow {\n            height: 45px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 16px;\n            font-weight: 400;\n            color: ${Script.Inputs.Accent}\n        }\n\n        .datepicker-grid {\n            width: 315px;\n        }\n\n        .datepicker-grid .datepicker-cell.day {\n            border-radius: 50%;\n            width: 45px;\n            height: 45px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .datepicker-grid .datepicker-cell {\n            color: ${Script.Inputs.Text}\n            font-size: 16px;\n        }\n\n        .datepicker-grid .datepicker-cell.next,\n        .datepicker-grid .datepicker-cell.prev {\n            color: ${Script.Inputs.TextMuted};\n        }\n\n        .datepicker-grid .datepicker-cell.focused {\n        }\n\n        .datepicker-grid .datepicker-cell.selected {\n            background-color:  ${Script.Inputs.SelectedDateBackgroud};\n            color: ${Script.Inputs.SelectedDateText};\n        }\n\n        .datepicker-grid .datepicker-cell:hover,\n        .datepicker-grid .datepicker-cell:focus {\n            color: ${Script.Inputs.HoverDateText};\n            background-color: ${Script.Inputs.HoverDateBackground};\n        }\n`\n\n    if(!isMobile()) { // This sheet is only needed if we are on desktop\n        if(document.querySelectorAll('#--ndl-datepicker-sheet--').length === 0) {\n            let addSheet = document.createElement('link');\n            addSheet.id = \"--ndl-datepicker-sheet--\"\n            addSheet.setAttribute('rel', 'stylesheet');\n            addSheet.setAttribute('href',cssUrl);\n            document.head.appendChild(addSheet);\n        }\n    }\n\n    if(document.querySelectorAll('#--ndl-datepicker-styles--').length === 0) {\n        const styles = document.createElement('style')\n        styles.id = '--ndl-datepicker-styles--'\n        styles.innerHTML = datePickerStyles\n        document.head.append(styles)\n    }\n}\n\n// Format a date object into a string\nfunction formatDate(date) {\n    if(!(date instanceof Date)) return\n\n    const months = [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Apr',\n        'May',\n        'Jun',\n        'Jul',\n        'Aug',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dec'\n    ]\n\n    let newDateString = months[date.getMonth()] + ' ' +date.getDate() + ', ' + date.getFullYear()\n\n    return newDateString\n}\n\n// Parse a date string in the format we use into a date object\n// if possible\nfunction parseDate(_dateString) {\n    // No valid date, return todays date\n    if(_dateString === undefined || _dateString.length < 3) \n        return null\n\n    let dateString = _dateString.trim().toLowerCase()\n\n    const months = {\n        'jan':0,\n        'feb':1,\n        'mar':2,\n        'apr':3,\n        'may':4,\n        'jun':5,\n        'jul':6,\n        'aug':7,\n        'sep':8,\n        'oct':9,\n        'nov':10,\n        'dec':11\n    }\n\n    let month = months[dateString.substring(0,3)]\n    if(month === undefined) return new Date() // Not a valid month\n\n    // Remove month\n    dateString = dateString.substring(3)\n    dateString = dateString.trim()\n\n    let sepIndex = dateString.indexOf(',')\n    let dayString = dateString.substring(0,sepIndex==-1?dateString.length:sepIndex)\n\n    let day = parseInt(dayString) || 1\n\n    let year = (new Date()).getFullYear()\n    if(sepIndex !== -1) {\n        dateString = dateString.substring(sepIndex+1)\n        dateString = dateString.trim()\n        \n        if(dateString.length === 4)\n        year = parseInt(dateString)\n    }\n\n    return new Date(year,month,day)\n}\n\n// Compare two dates, ignoring the time\nfunction compareDates(a,b) {\n    if(a.getFullYear() === b.getFullYear() && a.getDate() === b.getDate() && a.getMonth() === b.getMonth())\n        return true\n\n    return false\n}\n\nvar dateInput,datepicker,datePopup\n\nconst TextInputFocused = () => {\n    Component.Object.TextInputIsFocused = true\n\n    // If the text input is focused and we are not running on a mobile device\n    // launch the popup\n    if(!isMobile()) {\n        const textInput = Script.Inputs.TextInput.getDOMElement().querySelectorAll('input')[0]\n        const rect = textInput.getBoundingClientRect()\n\n      //  let top = rect.bottom + Script.Inputs.PopupMarginTop\n      //  let left = rect.left + Script.Inputs.PopupMarginRight\n\n        datePopup = document.createElement('div')\n        datePopup.style.zIndex = 100\n        datePopup.style.position = 'absolute'\n        datePopup.style.border = \"1px solid \" + Script.Inputs.BorderColor\n        datePopup.style.borderRadius = \"4px\"\n        datePopup.style.top = (rect.bottom + Script.Inputs.PopupMarginTop) + 'px'\n        datePopup.style.left = (rect.left + Script.Inputs.PopupMarginRight) + 'px'\n        document.body.appendChild(datePopup)\n\n        // This is running on desktop, install the vanilla js\n        injectDatePicker(() => {\n            // Script is loaded\n\n            datepicker = new Datepicker(datePopup, {\n                prevArrow:'<',\n                nextArrow:'>',\n            }); \n\n            // adjuste position if outside of screen\n            const rect = datePopup.getBoundingClientRect()\n            if(rect.top + rect.height > window.innerHeight) {\n                datePopup.style.top = Math.max(0,window.innerHeight - rect.height) + 'px'\n            }\n            if(rect.left + rect.width > window.innerWidth) {\n                datePopup.style.left = Math.max(0,window.innerWidth - rect.width) + 'px'\n            }\n         \n           \n\n            if(Component.Object.Date !== undefined) {\n                datepicker.setDate(Component.Object.Date)\n            }\n\n            datePopup.addEventListener('changeDate',() => {\n                // The picker reports a changed date\n                \n            })\n\n            datePopup.addEventListener('click',(ev) => {\n                // The user have clicked a date in the popup\n                var date = datepicker.getDate()\n\n                // If the date is a new date\n                if(date && (!Component.Object.Date || !compareDates(Component.Object.Date,date))) {\n                    \n                    // Blur the text input so the date can be updated\n                    Component.Object.Date = date\n                   \n                    textInput.blur()\n                }\n            })\n            \n        })\n\n    }\n}\n\nconst TextInputBlurred = () => {\n    Component.Object.TextInputIsFocused = false\n\n    const textInput = Script.Inputs.TextInput.getDOMElement().querySelectorAll('input')[0]\n    const dateString = textInput.value\n\n    const date = parseDate(dateString)\n    Component.Object.Date = date\n    Script.Outputs.DateSelected()\n\n    document.body.removeChild(datePopup)\n}\n\nconst DateStringChanged = (e) => {\n    const dateString = e.target.value\n\n    if(Component.Object.TextInputIsFocused) {\n        const date = parseDate(dateString)\n\n        // The date have changed in the component object, update the\n        // date picker\n        if(datepicker !== undefined) {\n            datepicker.setDate(date)\n        }\n\n        if(dateInput !== undefined) {\n            dateInput.value = date.getFullYear() + '-' + date.getMonth() + '-' + date.getDate()\n        }\n    }\n}\n\nScript.Inputs = {\n    PopupMarginRight: 'number',\n    PopupMarginTop: 'number',\n    Text: 'color',\n    TextMuted: 'color',\n    Accent: 'color',\n    Background: 'color',\n    SelectedDateBackground: 'color',\n    SelectedDateText: 'color',\n    HoverDateBackground: 'color',\n    HoverDateText: 'color'\n}\n\nScript.Signals.DidMount = () => {\n    Script.Outputs.IsMobile = isMobile()\n\n    injectDatePickerStyles()\n\n    // Register blur / focus listeners\n    if(Script.Inputs.TextInput.getDOMElement() !== undefined) {\n        var textInput = Script.Inputs.TextInput.getDOMElement().querySelectorAll('input')[0]\n        textInput.addEventListener('focus',TextInputFocused)\n        textInput.addEventListener('blur',TextInputBlurred)\n        textInput.addEventListener('keydown',(e) => {\n            if(e.keyCode===13) textInput.blur()\n        })\n        textInput.addEventListener('keyup',DateStringChanged)\n    }\n\n    // If there is a date set from start, format it \n    if(Component.Object.Date !== undefined) {\n        let formattedDate = formatDate(Component.Object.Date)\n        Component.Object['Formatted Date'] = formattedDate\n    }\n\n\n    Component.Object.on('change',(ev) => {\n        if(ev.name === 'Date') {\n            const date = Component.Object.Date\n            // The date have changed in the component object, update the\n            // date picker\n            if(datepicker !== undefined) {\n                datepicker.setDate(date)\n            }\n\n            if(dateInput !== undefined) {\n                dateInput.value = date.getFullYear() + '-' + date.getMonth() + '-' + date.getDate()\n            }\n\n            let formattedDate = formatDate(date)\n            textInput.value = formattedDate\n            Component.Object['Formatted Date'] = formattedDate\n        }\n    })\n\n    if(isMobile()) {\n        // On Mobile create a native date input hidden\n        // under the icon, clicking it will show the\n        // native picker\n        const elem = Script.Inputs.TextInput.getDOMElement()\n\n        dateInput = document.createElement('input')\n        dateInput.className = 'ndl-datepicker-native-input'\n\n        elem.parentNode.appendChild(dateInput)\n\n        dateInput.type = \"date\"\n\n        dateInput.onchange = () => {\n            var date = new Date(dateInput.value)\n            Component.Object.Date = date\n            Script.Outputs.DateSelected()\n        }\n    }\n}","scriptInputs":[],"PopupRightMargin":-44,"PopupMarginRight":-42,"PopupMarginTop":4,"Text":"Grey - 700","Accent":"Primary","SelectedDateBackground":"Primary","SelectedDateText":"White","HoverDateBackground":"Grey - 300","HoverDateText":"Grey - 900","BorderColor":"Primary","Background":"White","TextMuted":"Grey - 400"},"ports":[{"name":"PopupMarginRight","plug":"input","type":{"name":"number"},"group":"Inputs","index":5},{"name":"PopupMarginTop","plug":"input","type":{"name":"number"},"group":"Inputs","index":6},{"name":"Text","plug":"input","type":{"name":"color"},"group":"Inputs","index":7},{"name":"TextMuted","plug":"input","type":{"name":"color"},"group":"Inputs","index":8},{"name":"Accent","plug":"input","type":{"name":"color"},"group":"Inputs","index":9},{"name":"Background","plug":"input","type":{"name":"color"},"group":"Inputs","index":10},{"name":"SelectedDateBackground","plug":"input","type":{"name":"color"},"group":"Inputs","index":11},{"name":"SelectedDateText","plug":"input","type":{"name":"color"},"group":"Inputs","index":12},{"name":"HoverDateBackground","plug":"input","type":{"name":"color"},"group":"Inputs","index":13},{"name":"HoverDateText","plug":"input","type":{"name":"color"},"group":"Inputs","index":14},{"name":"DidMount","plug":"input","type":{"name":"signal"},"group":"Inputs","index":15},{"name":"SelectedDateBackgroud","displayName":"SelectedDateBackgroud","plug":"input","type":"*","group":"Inputs","index":16},{"name":"TextInput","displayName":"TextInput","plug":"input","type":"*","group":"Inputs","index":17},{"name":"BorderColor","displayName":"BorderColor","plug":"input","type":"*","group":"Inputs","index":18},{"name":"DateSelected","displayName":"DateSelected","plug":"output","type":"signal","group":"Outputs","index":19},{"name":"IsMobile","displayName":"IsMobile","plug":"output","type":"*","group":"Outputs","index":20}],"children":[]},{"id":"5b5825be-340d-e3fc-895f-cc3939134f2c","type":"net.noodl.ComponentObject","parameters":{"properties":"Date,Formatted Date"},"ports":[],"children":[]},{"id":"7b072dfc-f78c-a079-273c-4a13d47d45d7","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"7f9ee380-b4a9-cf9f-25ac-b2fb8e8d0aea","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"a1e5155f-a3b9-2014-60f3-9d5f015ee94c","type":"Component Inputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"27ae82cb-650e-4ada-8761-bb2fc855023b","sourcePort":"didMount","targetId":"99ff0486-6717-b204-e41e-087fd2a8f246","targetPort":"DidMount"},{"sourceId":"7b072dfc-f78c-a079-273c-4a13d47d45d7","sourcePort":"Value","targetId":"5b5825be-340d-e3fc-895f-cc3939134f2c","targetPort":"value-Date"},{"sourceId":"5b5825be-340d-e3fc-895f-cc3939134f2c","sourcePort":"value-Date","targetId":"7f9ee380-b4a9-cf9f-25ac-b2fb8e8d0aea","targetPort":"Value"},{"sourceId":"99ff0486-6717-b204-e41e-087fd2a8f246","sourcePort":"DateSelected","targetId":"7f9ee380-b4a9-cf9f-25ac-b2fb8e8d0aea","targetPort":"Changed"},{"sourceId":"a1e5155f-a3b9-2014-60f3-9d5f015ee94c","sourcePort":"Align Y","targetId":"27ae82cb-650e-4ada-8761-bb2fc855023b","targetPort":"alignY"},{"sourceId":"a1e5155f-a3b9-2014-60f3-9d5f015ee94c","sourcePort":"Align X","targetId":"27ae82cb-650e-4ada-8761-bb2fc855023b","targetPort":"alignX"},{"sourceId":"a1e5155f-a3b9-2014-60f3-9d5f015ee94c","sourcePort":"Margin Top","targetId":"27ae82cb-650e-4ada-8761-bb2fc855023b","targetPort":"marginTop"},{"sourceId":"a1e5155f-a3b9-2014-60f3-9d5f015ee94c","sourcePort":"Margin Bottom","targetId":"27ae82cb-650e-4ada-8761-bb2fc855023b","targetPort":"marginBottom"},{"sourceId":"a1e5155f-a3b9-2014-60f3-9d5f015ee94c","sourcePort":"Margin Left","targetId":"27ae82cb-650e-4ada-8761-bb2fc855023b","targetPort":"marginLeft"},{"sourceId":"a1e5155f-a3b9-2014-60f3-9d5f015ee94c","sourcePort":"Margin Right","targetId":"27ae82cb-650e-4ada-8761-bb2fc855023b","targetPort":"marginRight"},{"sourceId":"a1e5155f-a3b9-2014-60f3-9d5f015ee94c","sourcePort":"Position","targetId":"27ae82cb-650e-4ada-8761-bb2fc855023b","targetPort":"position"},{"sourceId":"a1e5155f-a3b9-2014-60f3-9d5f015ee94c","sourcePort":"Width","targetId":"27ae82cb-650e-4ada-8761-bb2fc855023b","targetPort":"width"},{"sourceId":"01299228-f6ae-1f0a-0d84-cc1ae0131d5d","sourcePort":"this","targetId":"99ff0486-6717-b204-e41e-087fd2a8f246","targetPort":"TextInput"},{"sourceId":"5b5825be-340d-e3fc-895f-cc3939134f2c","sourcePort":"value-Formatted Date","targetId":"01299228-f6ae-1f0a-0d84-cc1ae0131d5d","targetPort":"startValue"},{"sourceId":"a1e5155f-a3b9-2014-60f3-9d5f015ee94c","sourcePort":"Label","targetId":"e685b776-a21e-67cb-766b-c740b86e7cb7","targetPort":"text"},{"sourceId":"a1e5155f-a3b9-2014-60f3-9d5f015ee94c","sourcePort":"Show Label","targetId":"e685b776-a21e-67cb-766b-c740b86e7cb7","targetPort":"mounted"}],"ports":[{"name":"Align Y","type":{"name":"enum","enums":[{"label":"Top","value":"top"},{"label":"Center","value":"center"},{"label":"Bottom","value":"bottom"}],"alignComp":"vertical"},"group":"Alignment","plug":"input","index":0},{"name":"Value","type":{"name":"*","allowConnectionsOnly":true},"plug":"output","index":1},{"name":"Value","type":{"name":"*","allowConnectionsOnly":true},"group":"Properties","plug":"input","index":1},{"name":"Align X","type":{"name":"enum","enums":[{"label":"Left","value":"left"},{"label":"Center","value":"center"},{"label":"Right","value":"right"}],"alignComp":"horizontal"},"group":"Alignment","plug":"input","index":1},{"name":"Changed","type":"signal","plug":"output","index":2},{"name":"Margin Top","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-top"},"group":"Margins","plug":"input","index":2},{"name":"Margin Bottom","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-bottom"},"default":{"value":5,"unit":"px"},"group":"Margins","plug":"input","index":3},{"name":"Margin Left","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-left"},"group":"Margins","plug":"input","index":4},{"name":"Margin Right","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-right"},"group":"Margins","plug":"input","index":5},{"name":"Position","type":{"name":"enum","enums":[{"label":"In Layout","value":"relative"},{"label":"Absolute","value":"absolute"},{"label":"Sticky","value":"sticky"},{"label":"Fixed","value":"fixed"}]},"default":"relative","group":"Layout","plug":"input","index":7},{"name":"Width","type":{"name":"dimension","units":["%","px","vw","vh"],"defaultUnit":"%"},"default":100,"group":"Dimensions","plug":"input","index":8},{"name":"Text","type":"*","group":"Colors","plug":"input","index":9},{"name":"Show Label","type":"boolean","default":true,"group":"Label","plug":"input","index":10},{"name":"Label","type":{"name":"string","multiline":true},"default":"Birthday","group":"Label","plug":"input","index":11}],"roots":["27ae82cb-650e-4ada-8761-bb2fc855023b"],"metadata":{"canvasPos":{"x":564,"y":20}}},{"name":"/Collection Pages/Passport/Avatar","nodes":[{"id":"65ed3f9b-cb95-76f3-0320-cf616035d53d","type":"NavigationShowPopup","parameters":{"target":"/Collection Pages/Passport/Avatar/Modal Component"},"ports":[],"children":[]},{"id":"4bb7abdb-4719-5adb-93ff-d3a0e2af5fb0","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"98952998-8113-58bc-3414-5ba71b487302","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"2bdb4580-8364-35c6-bf3f-48422b975c40","type":"String","parameters":{},"ports":[],"children":[]},{"id":"7d4fe431-ee07-aac4-d0f6-78d62cfa9e36","type":"String","parameters":{},"ports":[],"children":[]},{"id":"165fa576-66cf-a3bf-471e-0a0e4f05c973","type":"String","parameters":{},"ports":[],"children":[]},{"id":"c98128f7-c256-2b07-a9f5-eb699f8c94c0","type":"String","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"4bb7abdb-4719-5adb-93ff-d3a0e2af5fb0","sourcePort":"Show popup","targetId":"65ed3f9b-cb95-76f3-0320-cf616035d53d","targetPort":"show"},{"sourceId":"65ed3f9b-cb95-76f3-0320-cf616035d53d","sourcePort":"Closed","targetId":"98952998-8113-58bc-3414-5ba71b487302","targetPort":"Closed"},{"sourceId":"65ed3f9b-cb95-76f3-0320-cf616035d53d","sourcePort":"closeAction-Confirmed","targetId":"98952998-8113-58bc-3414-5ba71b487302","targetPort":"Confirm Clicked"},{"sourceId":"4bb7abdb-4719-5adb-93ff-d3a0e2af5fb0","sourcePort":"Title","targetId":"2bdb4580-8364-35c6-bf3f-48422b975c40","targetPort":"value"},{"sourceId":"2bdb4580-8364-35c6-bf3f-48422b975c40","sourcePort":"savedValue","targetId":"65ed3f9b-cb95-76f3-0320-cf616035d53d","targetPort":"popupParam-Title"},{"sourceId":"4bb7abdb-4719-5adb-93ff-d3a0e2af5fb0","sourcePort":"Description","targetId":"7d4fe431-ee07-aac4-d0f6-78d62cfa9e36","targetPort":"value"},{"sourceId":"7d4fe431-ee07-aac4-d0f6-78d62cfa9e36","sourcePort":"savedValue","targetId":"65ed3f9b-cb95-76f3-0320-cf616035d53d","targetPort":"popupParam-Description"},{"sourceId":"4bb7abdb-4719-5adb-93ff-d3a0e2af5fb0","sourcePort":"Primary Button Label","targetId":"165fa576-66cf-a3bf-471e-0a0e4f05c973","targetPort":"value"},{"sourceId":"165fa576-66cf-a3bf-471e-0a0e4f05c973","sourcePort":"savedValue","targetId":"65ed3f9b-cb95-76f3-0320-cf616035d53d","targetPort":"popupParam-Primary Button Label"},{"sourceId":"4bb7abdb-4719-5adb-93ff-d3a0e2af5fb0","sourcePort":"Secondary Button Label","targetId":"c98128f7-c256-2b07-a9f5-eb699f8c94c0","targetPort":"value"},{"sourceId":"c98128f7-c256-2b07-a9f5-eb699f8c94c0","sourcePort":"savedValue","targetId":"65ed3f9b-cb95-76f3-0320-cf616035d53d","targetPort":"popupParam-Secondary Button Label"},{"sourceId":"4bb7abdb-4719-5adb-93ff-d3a0e2af5fb0","sourcePort":"Component to show","targetId":"65ed3f9b-cb95-76f3-0320-cf616035d53d","targetPort":"target"}],"ports":[{"name":"Title","type":{"name":"string"},"default":"","group":"Text","plug":"input","index":0},{"name":"Closed","type":"signal","plug":"output","index":1},{"name":"Description","type":{"name":"string"},"default":"","group":"Text","plug":"input","index":1},{"name":"Confirm Clicked","type":"signal","plug":"output","index":2},{"name":"Primary Button Label","type":{"name":"string"},"default":"","group":"Text","plug":"input","index":2},{"name":"Secondary Button Label","type":{"name":"string"},"default":"","group":"Text","plug":"input","index":3},{"name":"Show popup","type":{"name":"signal","allowConnectionsOnly":true},"group":"Action","plug":"input","index":4},{"name":"Component to show","type":"component","default":"/Collection Pages/Passport/Avatar/Modal Component","group":"General","plug":"input","index":5}],"roots":[]},{"name":"/Collection Pages/Passport/Avatar/Modal Component","nodes":[{"id":"f98548bf-27fa-341b-183b-07995c8e5879","type":"NavigationClosePopup","parameters":{"closeActions":"Confirmed"},"ports":[],"children":[]},{"id":"1ae39a2c-53b8-6ed9-9f8d-91f77fb08746","type":"Group","parameters":{"scrollEnabled":false},"ports":[],"children":[{"id":"7b1c067a-d9fd-b7e0-8def-7d7ff9b83945","type":"Group","parameters":{"backgroundColor":"#000000A5"},"ports":[],"children":[]},{"id":"24dc3f44-8b9f-ed7e-6537-e872ce11ff24","type":"Group","parameters":{"position":"absolute","backgroundColor":"Grey - 100","boxShadowEnabled":true,"blockTouch":true,"borderRadius":{"value":4,"unit":"px"},"boxShadowBlurRadius":{"value":8,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":4,"unit":"px"},"boxShadowColor":"#00000026","sizeMode":"explicit","marginLeft":{"value":5,"unit":"%"},"marginRight":{"value":5,"unit":"%"},"marginTop":{"value":5,"unit":"%"},"marginBottom":{"value":50,"unit":"px"}},"ports":[],"children":[{"id":"750f49b9-7ce2-dae3-4ec2-3e6ce7184d10","type":"net.noodl.controls.button","parameters":{"position":"absolute","alignX":"right","alignY":"top","backgroundColor":"#5836F500","useIcon":true,"useLabel":false,"iconColor":"Grey - 700","iconIconSource":{"class":"material-icons","code":"close"},"iconSize":{"value":24,"unit":"px"},"paddingLeft":{"value":4,"unit":"px"},"paddingRight":{"value":4,"unit":"px"},"iconSpacing":{"value":0,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"sizeMode":"contentSize","paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"marginRight":{"value":12,"unit":"px"},"marginTop":{"value":12,"unit":"px"}},"ports":[],"children":[]},{"id":"577ba3a2-dbfd-b8c5-f78f-033c0425d976","type":"Text","parameters":{"textStyle":"Title Medium","text":"Modal Title","marginRight":{"value":25,"unit":"px"},"marginBottom":{"value":20,"unit":"px"},"marginLeft":{"value":5,"unit":"px"},"marginTop":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"74d2d755-d56d-dd70-5948-27bc032b7b5b","type":"Group","parameters":{"scrollEnabled":true},"ports":[],"children":[{"id":"b1f7024c-9bc3-93c0-7eef-e9634fe64c4e","type":"Text","parameters":{"text":"Animal Crossing avatars are selected at the beginning of the game during your conversation with Rover. Your answers will determine your character's appearance.","marginLeft":{"value":5,"unit":"px"},"marginRight":{"value":5,"unit":"px"},"textAlignX":"center","marginBottom":{"value":5,"unit":"px"},"marginTop":{"value":5,"unit":"px"},"fontSize":{"value":12,"unit":"px"}},"ports":[],"children":[]},{"id":"973158c0-eb13-ec90-ee03-a785b263b9cc","type":"For Each","parameters":{"template":"/Collection Pages/Passport/Avatar Logic"},"ports":[],"children":[]}]},{"id":"7e49c021-f698-e218-8c62-d747c43eae4f","type":"Group","parameters":{"flexDirection":"row","marginTop":{"value":24,"unit":"px"},"sizeMode":"contentHeight","justifyContent":"center"},"ports":[],"children":[{"id":"27e9f0a5-2103-3d2f-07a4-aded159764fe","type":"net.noodl.controls.button","parameters":{"marginRight":{"value":16,"unit":"px"},"label":"Cancel","borderStyle":"solid","borderColor":"Primary","borderWidth":{"value":1,"unit":"px"},"backgroundColor":"transparent","color":"Primary Dark"},"stateParameters":{"hover":{"borderColor":"Primary Dark"}},"ports":[],"children":[]}]}]}]},{"id":"b840c178-b15a-833b-7e71-7eb34faba370","type":"States","parameters":{"states":"hide,show","values":"size,opacity","value-hide-size":0,"value-show-size":1,"value-hide-opacity":0,"value-show-opacity":1,"currentState":"hide","transitiondef-hide":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"transitiondef-show":{"curve":[0,0,0.58,1],"dur":150,"delay":0}},"ports":[],"children":[]},{"id":"c9030acb-aaf2-f78a-c2ad-08753f6385ce","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"6114bb91-332d-45bb-2db1-c402cd006694","type":"Static Data","parameters":{"csv":"[\r\n  {\r\n    \"id\": \"avatar-0001\",\r\n    \"Label\": \"Boy (1)\",\r\n    \"Image\": \"https://acgc.sterner.digital/images/player/boy_1.png\",\r\n    \"Checked\": \"\"\r\n  },\r\n  {\r\n    \"id\": \"avatar-0002\",\r\n    \"Label\": \"Boy (2)\",\r\n    \"Image\": \"https://acgc.sterner.digital/images/player/boy_2.png\",\r\n    \"Checked\": \"\"\r\n  },\r\n  {\r\n    \"id\": \"avatar-0003\",\r\n    \"Label\": \"Boy (3)\",\r\n    \"Image\": \"https://acgc.sterner.digital/images/player/boy_3.png\",\r\n    \"Checked\": \"\"\r\n  },\r\n  {\r\n    \"id\": \"avatar-0004\",\r\n    \"Label\": \"Boy (4)\",\r\n    \"Image\": \"https://acgc.sterner.digital/images/player/boy_4.png\",\r\n    \"Checked\": \"\"\r\n  },\r\n  {\r\n    \"id\": \"avatar-0005\",\r\n    \"Label\": \"Boy (5)\",\r\n    \"Image\": \"https://acgc.sterner.digital/images/player/boy_5.png\",\r\n    \"Checked\": \"\"\r\n  },\r\n  {\r\n    \"id\": \"avatar-0006\",\r\n    \"Label\": \"Boy (6)\",\r\n    \"Image\": \"https://acgc.sterner.digital/images/player/boy_6.png\",\r\n    \"Checked\": \"\"\r\n  },\r\n  {\r\n    \"id\": \"avatar-0007\",\r\n    \"Label\": \"Boy (7)\",\r\n    \"Image\": \"https://acgc.sterner.digital/images/player/boy_7.png\",\r\n    \"Checked\": \"\"\r\n  },\r\n  {\r\n    \"id\": \"avatar-0008\",\r\n    \"Label\": \"Boy (8)\",\r\n    \"Image\": \"https://acgc.sterner.digital/images/player/boy_8.png\",\r\n    \"Checked\": \"\"\r\n  },\r\n  {\r\n    \"id\": \"avatar-0009\",\r\n    \"Label\": \"Girl (1)\",\r\n    \"Image\": \"https://acgc.sterner.digital/images/player/girl_1.png\",\r\n    \"Checked\": \"\"\r\n  },\r\n  {\r\n    \"id\": \"avatar-0010\",\r\n    \"Label\": \"Girl (2)\",\r\n    \"Image\": \"https://acgc.sterner.digital/images/player/girl_2.png\",\r\n    \"Checked\": \"\"\r\n  },\r\n  {\r\n    \"id\": \"avatar-0011\",\r\n    \"Label\": \"Girl (3)\",\r\n    \"Image\": \"https://acgc.sterner.digital/images/player/girl_3.png\",\r\n    \"Checked\": \"\"\r\n  },\r\n  {\r\n    \"id\": \"avatar-0012\",\r\n    \"Label\": \"Girl (4)\",\r\n    \"Image\": \"https://acgc.sterner.digital/images/player/girl_4.png\",\r\n    \"Checked\": \"\"\r\n  },\r\n  {\r\n    \"id\": \"avatar-0013\",\r\n    \"Label\": \"Girl (5)\",\r\n    \"Image\": \"https://acgc.sterner.digital/images/player/girl_5.png\",\r\n    \"Checked\": \"\"\r\n  },\r\n  {\r\n    \"id\": \"avatar-0014\",\r\n    \"Label\": \"Girl (6)\",\r\n    \"Image\": \"https://acgc.sterner.digital/images/player/girl_6.png\",\r\n    \"Checked\": \"\"\r\n  },\r\n  {\r\n    \"id\": \"avatar-0015\",\r\n    \"Label\": \"Girl (7)\",\r\n    \"Image\": \"https://acgc.sterner.digital/images/player/girl_7.png\",\r\n    \"Checked\": \"\"\r\n  },\r\n  {\r\n    \"id\": \"avatar-0016\",\r\n    \"Label\": \"Girl (8)\",\r\n    \"Image\": \"https://acgc.sterner.digital/images/player/girl_8.png\",\r\n    \"Checked\": \"\"\r\n  }\r\n]\r\n","type":"json","json":"[\r\n  {\r\n    \"id\": \"avatar-0001\",\r\n    \"Label\": \"Boy (1)\",\r\n    \"Boy\": \"https://acgc.sterner.digital/images/player/boy_1.png\",\r\n\t\"Girl\": \"https://acgc.sterner.digital/images/player/girl_8.png\",\r\n\t\"Answer1\": \"Answer 1: No way!\",\r\n\t\"Answer2\": \"Answer 2: I'm moving!\",\r\n\t\"Answer3\": \"Answer 3: Don't know yet.\",\r\n\t\"Answer4\": \"Answer 4: Just a little...\"\r\n  },\r\n  {\r\n    \"id\": \"avatar-0002\",\r\n    \"Label\": \"Boy (2)\",\r\n    \"Boy\": \"https://acgc.sterner.digital/images/player/boy_2.png\",\r\n\t\"Girl\": \"https://acgc.sterner.digital/images/player/girl_5.png\",\r\n\t\"Answer1\": \"Answer 1: Please!\",\r\n\t\"Answer2\": \"Answer 2: What's it to ya?\",\r\n\t\"Answer3\": \"Answer 3: Don't know yet.\",\r\n\t\"Answer4\": \"Answer 4: Just a little...\"\r\n  },\r\n  {\r\n    \"id\": \"avatar-0003\",\r\n    \"Label\": \"Boy (3)\",\r\n    \"Boy\": \"https://acgc.sterner.digital/images/player/boy_3.png\",\r\n\t\"Girl\": \"https://acgc.sterner.digital/images/player/girl_7.png\",\r\n\t\"Answer1\": \"Answer 1: Please!\",\r\n\t\"Answer2\": \"Answer 2: What's it to ya?\",\r\n\t\"Answer3\": \"Answer 3: Leave me alone!\",\r\n\t\"Answer4\": \"Answer 4: Just a little...\"\r\n  },\r\n  {\r\n    \"id\": \"avatar-0004\",\r\n    \"Label\": \"Boy (4)\",\r\n    \"Boy\": \"https://acgc.sterner.digital/images/player/boy_4.png\",\r\n\t\"Girl\": \"https://acgc.sterner.digital/images/player/girl_2.png\",\r\n\t\"Answer1\": \"Answer 1: No way!\",\r\n\t\"Answer2\": \"Answer 2: What's it to ya?\",\r\n\t\"Answer3\": \"Answer 3: Leave me alone!\",\r\n\t\"Answer4\": \"Answer 4: Just a little...\"\r\n  },\r\n  {\r\n    \"id\": \"avatar-0005\",\r\n    \"Label\": \"Boy (5)\",\r\n    \"Boy\": \"https://acgc.sterner.digital/images/player/boy_5.png\",\r\n\t\"Girl\": \"https://acgc.sterner.digital/images/player/girl_3.png\",\r\n\t\"Answer1\": \"Answer 1: No way!\",\r\n\t\"Answer2\": \"Answer 2: I'm moving!\",\r\n\t\"Answer3\": \"Answer 3: Leave me alone!\",\r\n\t\"Answer4\": \"Answer 4: Just a little...\"\r\n  },\r\n  {\r\n    \"id\": \"avatar-0006\",\r\n    \"Label\": \"Boy (6)\",\r\n    \"Boy\": \"https://acgc.sterner.digital/images/player/boy_6.png\",\r\n\t\"Girl\": \"https://acgc.sterner.digital/images/player/girl_6.png\",\r\n\t\"Answer1\": \"Answer 1: Please!\",\r\n\t\"Answer2\": \"Answer 2: I'm moving!\",\r\n\t\"Answer3\": \"Answer 3: Leave me alone!\",\r\n\t\"Answer4\": \"Answer 4: Just a little...\"\r\n  },\r\n  {\r\n    \"id\": \"avatar-0007\",\r\n    \"Label\": \"Boy (7)\",\r\n    \"Boy\": \"https://acgc.sterner.digital/images/player/boy_7.png\",\r\n    \"Girl\": \"https://acgc.sterner.digital/images/player/girl_1.png\",\r\n\t\"Answer1\": \"Answer 1: Please!\",\r\n\t\"Answer2\": \"Answer 2: I'm moving!\",\r\n\t\"Answer3\": \"Answer 3: Don't know yet.\",\r\n\t\"Answer4\": \"Answer 4: Just a little...\"\r\n  },\r\n  {\r\n    \"id\": \"avatar-0008\",\r\n    \"Label\": \"Boy (8)\",\r\n    \"Boy\": \"https://acgc.sterner.digital/images/player/boy_8.png\",\r\n\t\"Girl\": \"https://acgc.sterner.digital/images/player/girl_4.png\",\r\n\t\"Answer1\": \"Answer 1: No way!\",\r\n\t\"Answer2\": \"Answer 2: What's it to ya?\",\r\n\t\"Answer3\": \"Answer 3: Don't know yet.\",\r\n\t\"Answer4\": \"Answer 4: Just a little...\"\r\n  }\r\n]\r\n"},"ports":[],"children":[]}],"connections":[{"sourceId":"7b1c067a-d9fd-b7e0-8def-7d7ff9b83945","sourcePort":"onClick","targetId":"f98548bf-27fa-341b-183b-07995c8e5879","targetPort":"close"},{"sourceId":"750f49b9-7ce2-dae3-4ec2-3e6ce7184d10","sourcePort":"onClick","targetId":"f98548bf-27fa-341b-183b-07995c8e5879","targetPort":"close"},{"sourceId":"27e9f0a5-2103-3d2f-07a4-aded159764fe","sourcePort":"onClick","targetId":"f98548bf-27fa-341b-183b-07995c8e5879","targetPort":"close"},{"sourceId":"1ae39a2c-53b8-6ed9-9f8d-91f77fb08746","sourcePort":"didMount","targetId":"b840c178-b15a-833b-7e71-7eb34faba370","targetPort":"to-show"},{"sourceId":"b840c178-b15a-833b-7e71-7eb34faba370","sourcePort":"size","targetId":"24dc3f44-8b9f-ed7e-6537-e872ce11ff24","targetPort":"transformScale"},{"sourceId":"b840c178-b15a-833b-7e71-7eb34faba370","sourcePort":"opacity","targetId":"24dc3f44-8b9f-ed7e-6537-e872ce11ff24","targetPort":"opacity"},{"sourceId":"b840c178-b15a-833b-7e71-7eb34faba370","sourcePort":"opacity","targetId":"7b1c067a-d9fd-b7e0-8def-7d7ff9b83945","targetPort":"opacity"},{"sourceId":"c9030acb-aaf2-f78a-c2ad-08753f6385ce","sourcePort":"Title","targetId":"577ba3a2-dbfd-b8c5-f78f-033c0425d976","targetPort":"text"},{"sourceId":"6114bb91-332d-45bb-2db1-c402cd006694","sourcePort":"items","targetId":"973158c0-eb13-ec90-ee03-a785b263b9cc","targetPort":"items"}],"ports":[{"name":"Title","type":{"name":"string","multiline":true},"default":"Modal Title","group":"Text","plug":"input","index":1},{"name":"Description","type":"*","plug":"input","index":2},{"name":"Primary Button Label","type":"*","plug":"input","index":3},{"name":"Secondary Button Label","type":"*","plug":"input","index":4}],"roots":["1ae39a2c-53b8-6ed9-9f8d-91f77fb08746"]},{"name":"/Collection Pages/Passport/Avatar Logic","nodes":[{"id":"6f578ecc-31d2-35b4-0c6b-87b524c8a790","type":"Group","parameters":{"borderWidth":{"value":3,"unit":"px"},"borderColor":"Nook Tan Dark","backgroundColor":"Nook Text Light","marginBottom":{"value":5,"unit":"px"},"marginLeft":{"value":5,"unit":"px"},"marginRight":{"value":5,"unit":"px"},"marginTop":{"value":0,"unit":"px"},"borderRadius":{"value":12,"unit":"px"},"borderStyle":"solid","scrollEnabled":false},"ports":[],"children":[{"id":"9e74019a-f443-83a6-6974-60e942909692","type":"Group","parameters":{"flexDirection":"row","justifyContent":"center","marginTop":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"a155836c-14d7-fbe5-45d8-860fb05e7e56","type":"Image","parameters":{"src":"images/paintings/64px-Scary_Painting_PG_Model.png","borderRadius":{"value":10,"unit":"px"},"marginLeft":{"value":5,"unit":"px"},"marginRight":{"value":5,"unit":"px"},"alignX":"center","sizeMode":"contentHeight"},"ports":[],"children":[]},{"id":"c70788e3-cb80-afc5-84a0-2608dad427c7","type":"Image","parameters":{"borderRadius":{"value":10,"unit":"px"},"marginLeft":{"value":5,"unit":"px"},"marginRight":{"value":5,"unit":"px"},"sizeMode":"contentHeight","alignX":"center"},"ports":[],"children":[]}]},{"id":"740b8a05-b28a-6a84-ee8e-61db65bf5b21","type":"Group","parameters":{"paddingLeft":{"value":5,"unit":"px"},"paddingRight":{"value":5,"unit":"px"},"alignX":"center","alignY":"center"},"ports":[],"children":[{"id":"6cfd2a19-dafe-5289-a98a-45592cd153df","type":"Text","parameters":{"textAlignX":"center"},"ports":[],"children":[]},{"id":"38ac4089-9d2a-f537-55cb-73d07c6bb9a2","type":"Text","parameters":{"textAlignX":"center"},"ports":[],"children":[]},{"id":"948c9207-ae2c-bccb-e595-766846dcc1d8","type":"Text","parameters":{"textAlignX":"center"},"ports":[],"children":[]},{"id":"4f632ea4-770c-0dba-d5ab-61b051fa3787","type":"Text","parameters":{"textAlignX":"center"},"ports":[],"children":[]}]}]},{"id":"b6876ed9-1eb0-3320-4d04-35b5238fad6f","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst boy = Inputs.Boy || '';\nconst girl = Inputs.Girl || '';\nconst answer1 = Inputs.Answer1 || '';\nconst answer2 = Inputs.Answer2 || '';\nconst answer3 = Inputs.Answer3 || '';\nconst answer4 = Inputs.Answer4 || '';\nconst checked = Inputs.Checked || ''; // Changed to an empty string to match your JSON\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Boy = boy;\n    Outputs.Girl = girl;\n    Outputs.Answer1 = answer1;\n    Outputs.Answer2 = answer2;\n    Outputs.Answer3 = answer3;\n    Outputs.Answer4 = answer4;\n    Outputs.Checked = checked;\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Boy = result.Boy || '';\n        Outputs.Girl = result.Girl || '';\n        Outputs.Answer1 = result.Answer1 || '';\n        Outputs.Answer2 = result.Answer2 || '';\n        Outputs.Answer3 = result.Answer3 || '';\n        Outputs.Answer4 = result.Answer4 || '';\n        Outputs.Checked = result.Checked || ''; // Handle Checked as an empty string\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Boy","displayName":"Boy","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Girl","displayName":"Girl","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Answer1","displayName":"Answer1","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-Answer2","displayName":"Answer2","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-Answer3","displayName":"Answer3","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-Answer4","displayName":"Answer4","plug":"input","type":"*","group":"Inputs","index":11},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":12},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":13},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":14},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":16},{"name":"out-Boy","displayName":"Boy","plug":"output","type":"*","group":"Outputs","index":17},{"name":"out-Girl","displayName":"Girl","plug":"output","type":"*","group":"Outputs","index":18},{"name":"out-Answer1","displayName":"Answer1","plug":"output","type":"*","group":"Outputs","index":19},{"name":"out-Answer2","displayName":"Answer2","plug":"output","type":"*","group":"Outputs","index":20},{"name":"out-Answer3","displayName":"Answer3","plug":"output","type":"*","group":"Outputs","index":21},{"name":"out-Answer4","displayName":"Answer4","plug":"output","type":"*","group":"Outputs","index":22},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":23}],"children":[]},{"id":"dac57b6b-c2f3-de75-e8ea-10408e1ff11d","type":"Model2","parameters":{"idSource":"foreach","properties":"id,Label,Boy,Girl,Answer1,Answer2,Answer3,Answer4"},"ports":[],"children":[]},{"id":"c5c3958c-9191-2105-c032-36332e3912fa","type":"JavaScriptFunction","parameters":{"functionScript":"const boyAvatar = Inputs.Boy || '';\nconst girlAvatar = Inputs.Girl || '';\n\nif (!boyAvatar && !girlAvatar) return;\n\n// Function to handle Boy Click event\nfunction handleClickBoy() {\n    try {\n        // Set avatar-passport with Boy avatar in local storage\n        localStorage.setItem('avatar-passport', boyAvatar);\n        Outputs.Success();\n    } catch (error) {\n        Outputs.error = error;\n        Outputs.Failure();\n    }\n}\n\n// Function to handle Girl Click event\nfunction handleClickGirl() {\n    try {\n        // Set avatar-passport with Girl avatar in local storage\n        localStorage.setItem('avatar-passport', girlAvatar);\n        Outputs.Success();\n    } catch (error) {\n        Outputs.error = error;\n        Outputs.Failure();\n    }\n}\n\n// Listen for the ClickBoy input\nif (Inputs.ClickBoy) {\n    handleClickBoy();\n}\n\n// Listen for the ClickGirl input\nif (Inputs.ClickGirl) {\n    handleClickGirl();\n}\n"},"ports":[{"name":"in-Boy","displayName":"Boy","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Girl","displayName":"Girl","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-ClickBoy","displayName":"ClickBoy","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-ClickGirl","displayName":"ClickGirl","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":10}],"children":[]},{"id":"d0cd49f4-240b-86ce-bcdb-ace59e8e678c","type":"Variable2","parameters":{},"ports":[],"children":[]},{"id":"f2323d71-0631-30f7-f9e6-b170ac7c0206","type":"Variable2","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"dac57b6b-c2f3-de75-e8ea-10408e1ff11d","sourcePort":"prop-Label","targetId":"b6876ed9-1eb0-3320-4d04-35b5238fad6f","targetPort":"in-Label"},{"sourceId":"dac57b6b-c2f3-de75-e8ea-10408e1ff11d","sourcePort":"id","targetId":"b6876ed9-1eb0-3320-4d04-35b5238fad6f","targetPort":"in-ID"},{"sourceId":"dac57b6b-c2f3-de75-e8ea-10408e1ff11d","sourcePort":"prop-Boy","targetId":"b6876ed9-1eb0-3320-4d04-35b5238fad6f","targetPort":"in-Boy"},{"sourceId":"dac57b6b-c2f3-de75-e8ea-10408e1ff11d","sourcePort":"prop-Girl","targetId":"b6876ed9-1eb0-3320-4d04-35b5238fad6f","targetPort":"in-Girl"},{"sourceId":"dac57b6b-c2f3-de75-e8ea-10408e1ff11d","sourcePort":"prop-Answer1","targetId":"b6876ed9-1eb0-3320-4d04-35b5238fad6f","targetPort":"in-Answer1"},{"sourceId":"dac57b6b-c2f3-de75-e8ea-10408e1ff11d","sourcePort":"prop-Answer2","targetId":"b6876ed9-1eb0-3320-4d04-35b5238fad6f","targetPort":"in-Answer2"},{"sourceId":"dac57b6b-c2f3-de75-e8ea-10408e1ff11d","sourcePort":"prop-Answer3","targetId":"b6876ed9-1eb0-3320-4d04-35b5238fad6f","targetPort":"in-Answer3"},{"sourceId":"dac57b6b-c2f3-de75-e8ea-10408e1ff11d","sourcePort":"prop-Answer4","targetId":"b6876ed9-1eb0-3320-4d04-35b5238fad6f","targetPort":"in-Answer4"},{"sourceId":"b6876ed9-1eb0-3320-4d04-35b5238fad6f","sourcePort":"out-Boy","targetId":"a155836c-14d7-fbe5-45d8-860fb05e7e56","targetPort":"src"},{"sourceId":"b6876ed9-1eb0-3320-4d04-35b5238fad6f","sourcePort":"out-Girl","targetId":"c70788e3-cb80-afc5-84a0-2608dad427c7","targetPort":"src"},{"sourceId":"b6876ed9-1eb0-3320-4d04-35b5238fad6f","sourcePort":"out-Answer1","targetId":"6cfd2a19-dafe-5289-a98a-45592cd153df","targetPort":"text"},{"sourceId":"b6876ed9-1eb0-3320-4d04-35b5238fad6f","sourcePort":"out-Answer2","targetId":"38ac4089-9d2a-f537-55cb-73d07c6bb9a2","targetPort":"text"},{"sourceId":"b6876ed9-1eb0-3320-4d04-35b5238fad6f","sourcePort":"out-Answer3","targetId":"948c9207-ae2c-bccb-e595-766846dcc1d8","targetPort":"text"},{"sourceId":"b6876ed9-1eb0-3320-4d04-35b5238fad6f","sourcePort":"out-Answer4","targetId":"4f632ea4-770c-0dba-d5ab-61b051fa3787","targetPort":"text"},{"sourceId":"b6876ed9-1eb0-3320-4d04-35b5238fad6f","sourcePort":"out-Boy","targetId":"d0cd49f4-240b-86ce-bcdb-ace59e8e678c","targetPort":"name"},{"sourceId":"d0cd49f4-240b-86ce-bcdb-ace59e8e678c","sourcePort":"name","targetId":"c5c3958c-9191-2105-c032-36332e3912fa","targetPort":"in-Boy"},{"sourceId":"b6876ed9-1eb0-3320-4d04-35b5238fad6f","sourcePort":"out-Girl","targetId":"f2323d71-0631-30f7-f9e6-b170ac7c0206","targetPort":"name"},{"sourceId":"f2323d71-0631-30f7-f9e6-b170ac7c0206","sourcePort":"name","targetId":"c5c3958c-9191-2105-c032-36332e3912fa","targetPort":"in-Girl"},{"sourceId":"a155836c-14d7-fbe5-45d8-860fb05e7e56","sourcePort":"onClick","targetId":"c5c3958c-9191-2105-c032-36332e3912fa","targetPort":"in-ClickBoy"},{"sourceId":"c70788e3-cb80-afc5-84a0-2608dad427c7","sourcePort":"onClick","targetId":"c5c3958c-9191-2105-c032-36332e3912fa","targetPort":"in-ClickGirl"}],"ports":[],"roots":["6f578ecc-31d2-35b4-0c6b-87b524c8a790"]}]